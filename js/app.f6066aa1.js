(function(e){function t(t){for(var s,r,o=t[0],l=t[1],c=t[2],_=0,d=[];_<o.length;_++)r=o[_],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);u&&u(t);while(d.length)d.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],s=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(s=!1)}s&&(n.splice(t--,1),e=r(r.s=a[0]))}return e}var s={},i={app:0},n=[];function r(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=s,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(a,s,function(t){return e[t]}.bind(null,s));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=l;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"018b":function(e,t,a){},"01f7":function(e,t,a){},"034f":function(e,t,a){"use strict";var s=a("85ec"),i=a.n(s);i.a},"0958":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"preview"},[e.field.multiple?a("div",{staticClass:"thumbnail"},[a("b-draggable",{staticClass:"row",on:{input:e.update},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},e._l(e.model,(function(t,s){return a("b-form-uploader-item",{key:s,staticClass:"col-4",attrs:{name:e.name,id:e.id+"_"+s,field:e.field,parent:e.parent,"allow-add":""},on:{input:e.update,remove:function(t){e.model.splice(s,1),e.update()},add:function(t){e.model.splice(s+1,0,null),e.update()}},model:{value:e.model[s],callback:function(t){e.$set(e.model,s,t)},expression:"model[k]"}})})),1)],1):a("div",[a("div",{staticClass:"row"},[a("b-form-uploader-item",{staticClass:"col-12",attrs:{id:e.id,name:e.name,field:e.field,parent:e.parent},on:{"open-file-browser":function(t){return e.openFileBrowser(e.name)},input:e.update,remove:function(t){e.model=null,e.update()}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)])])])},i=[],n=a("310e"),r=a.n(n),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-card",[a("b-data-value",{staticClass:"text-center",attrs:{field:e.field,name:e.name,model:e.parent}}),e.field.limit&&e.field.limit.width?a("div",{staticClass:"text-center text-muted mt-2"},[e._v(e._s(e.$t("messages.image_size",e.field.limit)))]):e._e(),a("div",{staticClass:"text-center",attrs:{slot:"footer"},slot:"footer"},[a("b-form-file",e._b({ref:"file",staticClass:"d-none",attrs:{id:e.fileName,name:e.name,multiple:!1},on:{input:e.upload},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}},"b-form-file",e.field,!1)),e.field.showInput?a("b-form-input",{staticClass:"mb-2",attrs:{value:String(e.file||"")},on:{input:function(t){return e.$emit("input",arguments[0])}}}):e._e(),e.field.showBrowse?a("b-btn",{staticClass:"mr-2",attrs:{size:"sm"},on:{click:function(t){return e.$emit("open-file-browser")}}},[e._v(e._s(e.$t("actions.file_browser")))]):e._e(),a("label",{staticClass:"btn btn-primary m-0 mr-2 btn-sm",attrs:{for:"file_"+e.id}},[e._v(e._s(e.file?e.$t("actions.change"):e.$t("actions.choose")))]),a("b-btn",{staticClass:"mr-2",attrs:{size:"sm"},on:{click:function(t){return e.$emit("remove")}}},[e._v(e._s(e.$t("actions.delete")))]),e.allowAdd?a("b-btn",{staticClass:"mr-2",attrs:{size:"sm"},on:{click:function(t){return e.$emit("add")}}},[e._v(e._s(e.$t("actions.add")))]):e._e(),e.field.showCopy?a("b-btn",{ref:"copy_btn",staticClass:"mr-2",attrs:{"data-clipboard-text":e.value,size:"sm"}},[e._v(e._s(e.$t("actions.copy")))]):e._e()],1)],1)],1)},l=[],c=(a("b0c0"),a("d3b7"),a("ac1f"),a("3ca3"),a("466d"),a("1276"),a("ddb0"),a("2b3d"),a("8a2b")),u=a("a026"),_={components:{BDataValue:c["a"]},props:{value:{},field:{},id:{},parent:{},name:{},allowAdd:{type:Boolean,default:!1}},data:function(){return{model:this.value,file:this.value,current:this.value,fileData:{}}},watch:{value:function(e){this.file=e}},computed:{text:function(){return String(this.value).split("/").pop()},modalName:function(){return"modal_".concat(this.id)},fileName:function(){return"file_".concat(this.id)},tag:function(){var e={image:"img",audio:"audio",video:"video"};return e[this.field.type]?e[this.field.type]:"div"}},mounted:function(){u["default"].nextTick((function(){}))},methods:{reset:function(e){return e&&this.$snotify.error(e),this.model=this.oldValue,!1},upload:function(){var e=this;if(this.file){var t=new FormData;t.append("type",this.name),t.append("file",this.file),this.fileData=this.file;var a=URL.createObjectURL(this.file),s=function(){e.$http.post("upload",t).then((function(t){var a=t.data;e.file=a.url,e.$emit("input",e.file),e.$snotify.success(e.$t("messages.uploaded"))}))},i=this.field.limit||{},n=i.width,r=i.height,o=i.size;if(this.file.size>o)return this.reset(this.$t("errors.too_large",{limit:parseInt(o/1024)}));if(this.file.type.match(/^image/)){var l=new Image;l.src=a,l.onload=function(){if(e.field.limit&&(l.naturalHeight!=r||l.naturalWidth!=n))return e.reset(e.$t("errors.wrong_size",{width:n,height:r}));s()}}else s()}}}},d=_,p=(a("3edb"),a("2877")),f=Object(p["a"])(d,o,l,!1,null,"984dde66",null),m=f.exports,h=a("6e87"),b={components:{BDraggable:r.a,BFormUploaderItem:m},props:{value:{},field:{},id:{},parent:{},name:{}},data:function(){return{model:this.value||[],file:null,current:this.value}},watch:{value:function(e){this.model=e}},computed:{tag:function(){return"image"===this.field.type?"img":this.field.type}},methods:{openFileBrowser:function(e){this.$store.commit(h["a"].SHOW_FILE_BROWSER,{name:e})},update:function(){this.$emit("input",this.model)}}},v=b,g=(a("5411"),Object(p["a"])(v,s,i,!1,null,null,null));g.exports},1484:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("5319"),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("1276"),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_2__),_home_runner_work_restful_admin_restful_admin_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("5530"),vuex__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("2f62");__webpack_exports__["a"]={components:{},props:{},data:function(){return{loaded:!1,form:{}}},watch:{$route:function(){this.fetchForm()}},computed:Object(_home_runner_work_restful_admin_restful_admin_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__["a"])(Object(_home_runner_work_restful_admin_restful_admin_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_3__["a"])({},Object(vuex__WEBPACK_IMPORTED_MODULE_4__["c"])(["auth"])),{},{uri:function(){return this.$route.params.uri.replace(/\./g,"/")}}),methods:{fetch:function(){},fetchForm:function(){var e=this;this.$http.get(this.uri).then((function(t){var a=t.data;e.form=a,e.form.action||(e.form.action=e.uri),e.form.title||(e.form.title=e.$inflection.titleize(String(e.$route.query.uri).split("/").pop()))}))},onSuccess:function onSuccess(data){var message=data.message,then=data.then,redirect=data.redirect;message&&this.$snotify.success(message),then?eval(then):redirect&&this.$router.push({path:redirect})}},mounted:function(){},created:function(){this.fetchForm()}}},"18a9":function(e,t,a){"use strict";var s=a("6cef"),i=a.n(s);i.a},"206d":function(e,t,a){"use strict";var s=a("4413"),i=a.n(s);i.a},"3edb":function(e,t,a){"use strict";var s=a("018b"),i=a.n(s);i.a},"423e":function(e){e.exports=JSON.parse('{"actions":{"create":"新建","new":"新建","delete":"删除","delete_all":"全部删除","reload":"刷新","search":"搜索","search_and_export":"搜索并导出","import":"导入","save":"保存","back":"返回","submit":"提交","view":"查看","actions":"操作","upload":"上传","change":"更换","choose":"选择","login":"登录","edit":"编辑","cancel":"取消","select_all":"选择全部","clear_selected":"清除选择","columns":"展示列"},"texts":{"update_password":"修改密码"},"fields":{"username":"用户名","password":"密码","old_password":"旧密码","new_password":"新密码","confirm_password":"确认密码"},"messages":{"paginate":"共{total}条数据","login_please":"请先登录","login_footer":"FASTAPI ADMIN - 为FastAPI而生的后台管理面板","login_description":"管理后台","dashboard":"控制台","go_home":"返回首页","succeed":"操作成功","uploaded":"上传成功","deleted":"删除成功","deleted_all":"全部删除成功","confirm_delete":"确定要删除吗？","image_size":"尺寸要求：{width}x{height}","confirm_bulk_action":"确定执行批量操作？","no_options_text":"暂无可选项","bulk_success":"批量操作成功！","server_error":"服务器错误"},"errors":{"too_large":"请上传小于{limit}KB的文件","wrong_size":"请上传{width}x{height}像素的图片"}}')},4360:function(e,t,a){"use strict";a.d(t,"b",(function(){return u["a"]}));var s,i,n,r,o=a("ade3"),l=a("a026"),c=a("2f62"),u=a("6e87"),_=a("a18c"),d=(a("7db0"),a("c975"),a("b0c0"),a("ac1f"),a("466d"),[{name:"首页",url:"/",icon:"icon-home"}]),p=a("2ef0"),f=a.n(p),m=a("ba6a"),h=a("460a"),b={state:{name:"",url:"",description:"",menus:d,languages:!1,footer:!1,theme:"cosmo",logo:"",locale:"en-US",locale_switcher:!1,theme_switcher:!1,login_url:null,html:"",css:[],js:[],cdn:"bootcdn",header:null,grid_style:1,enable_loading:!0,sidebar_userinfo:!0,page_header:"",components:[],use_field_apis:!0,resource_prefix:"/rest",fetched:!1},mutations:(s={},Object(o["a"])(s,u["a"].SET_SITE,(function(e,t){for(var a in t){var s=t[a];"undefined"!==typeof s&&(e[a]=s)}})),Object(o["a"])(s,u["a"].SET_PAGE_HEADER,(function(e,t){(!1===t||t)&&(e.page_header=t)})),Object(o["a"])(s,u["a"].SET_THEME,(function(e,t){e.theme=t;var a={bootcdn:"https://cdn.bootcss.com",cdnjs:"https://cdnjs.cloudflare.com/ajax/libs"},s=(a[e.cdn]||e.cdn)+"/bootswatch/4.2.1/".concat(e.theme,"/bootstrap.min.css");document.getElementById("css-skin").href=s,h["a"].set("theme",e.theme)})),s),getters:{currentMenu:function(e,t,a){var s=a.route.path,i=f.a.find(e.menu,{url:s})||{};return!i.name&&s.indexOf("/rest/")>-1&&(s=s.match(/(\/rest\/\w+)/).pop(),i=f.a.find(e.menu,{url:s})||{}),i}},actions:(i={},Object(o["a"])(i,u["a"].FETCH_SITE,(function(e){var t=e.commit,a=e.dispatch,s=e.state;m["a"].get("site").then((function(e){var i=e.data;i.fetched=!0,t(u["a"].SET_SITE,i),a(u["a"].FETCH_PAGE_HEADER),s.page_header,s.theme&&t(u["a"].SET_THEME,s.theme),i.locale&&t(u["a"].SET_LOCALE,i.locale)}))})),Object(o["a"])(i,u["a"].FETCH_PAGE_HEADER,(function(e){var t=e.commit,a=e.state,s=e.rootState,i=s.route.path,n=f.a.find(a.menu,{url:i})||{};!n.name&&i.indexOf("/rest/")>-1&&(i=i.match(/(\/rest\/\w+)/).pop(),n=f.a.find(a.menu,{url:i})||{}),t(u["a"].SET_PAGE_HEADER,n.name||"")})),i)},v={state:{user:null,token:null},mutations:Object(o["a"])({},u["a"].SET_AUTH,(function(e,t){t||(t={}),e.user=t.user,e.token=t.token,h["a"].set("auth",t)})),actions:(n={},Object(o["a"])(n,u["a"].GET_AUTH,(function(e){var t=e.commit,a={};try{a=h["a"].get("auth")}catch(s){a={token:null,user:null}}t(u["a"].SET_AUTH,a)})),Object(o["a"])(n,u["a"].GO_LOGIN,(function(){return b.state.login_url?location.href=b.state.login_url:_["a"].push({name:"login"})})),n)},g=(a("5319"),a("9225")),E={state:{locale:null},mutations:Object(o["a"])({},u["a"].SET_LOCALE,(function(e,t){e.locale=t,h["a"].set("locale",t),g["a"].locale=t})),getters:{currentLanguage:function(e){return String(e.locale).replace(/-\w+/,"")}},actions:Object(o["a"])({},u["a"].FETCH_LOCALE,(function(e){var t=e.commit,a=h["a"].get("locale");a&&t(u["a"].SET_LOCALE,a)}))},O={auth:v,i18n:E,site:b};l["default"].use(c["a"]);t["a"]=new c["a"].Store({modules:O,state:{loading:!1,downloadUrl:null},getters:{},mutations:(r={},Object(o["a"])(r,u["a"].DOWNLOAD,(function(e,t){var a=this;e.downloadUrl="",l["default"].nextTick((function(){a.downloadUrl=t}))})),Object(o["a"])(r,u["a"].START_LOADING,(function(e){e.loading=!0})),Object(o["a"])(r,u["a"].STOP_LOADING,(function(e){e.loading=!1})),r),actions:{}})},4413:function(e,t,a){},"460a":function(e,t,a){"use strict";t["a"]={get:function(e,t){try{return JSON.parse(localStorage.getItem("fastapi_admin_".concat(e)))}catch(a){return t}},set:function(e,t){localStorage.setItem("fastapi_admin_".concat(e),JSON.stringify(t))}}},"49f8":function(e,t,a){var s={"./en-US.json":"e0e1","./zh-CN.json":"423e"};function i(e){var t=n(e);return a(t)}function n(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}i.keys=function(){return Object.keys(s)},i.resolve=n,e.exports=i,i.id="49f8"},"53d7":function(e,t,a){"use strict";var s=a("01f7"),i=a.n(s);i.a},5411:function(e,t,a){"use strict";var s=a("c248"),i=a.n(s);i.a},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2ef0"),i=a.n(s),n=a("a026"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view"),a("vue-snotify"),a("div",{domProps:{innerHTML:e._s(e.$store.state.site.html)}})],1)},o=[],l=(a("d81d"),a("5530")),c=a("2f62"),u=a("4360"),_={name:"app",components:{},data:function(){return{frameSrc:"",path:[]}},watch:{"site.name":function(e){window.document.title=e||"FASTAPI-ADMIN DASHBOARD"},"site.skin":function(e){var t=document.getElementById("css-skin");t.setAttribute("href","https://cdn.bootcss.com/bootswatch/4.1.1/".concat(e,"/bootstrap.min.css"))},"site.css":function(e){e.map((function(e){var t=document.createElement("link");t.setAttribute("href",e),t.setAttribute("rel","stylesheet"),document.head.appendChild(t)}))},"site.js":function(e){e.map((function(e){var t=document.createElement("script");t.setAttribute("src",e),document.body.appendChild(t)}))},"$route.path":function(){this.$store.dispatch(u["b"].FETCH_PAGE_HEADER)}},computed:Object(l["a"])({},Object(c["c"])(["site"])),created:function(){this.$store.dispatch(u["b"].FETCH_SITE)}},d=_,p=(a("034f"),a("2877")),f=Object(p["a"])(d,r,o,!1,null,null,null),m=f.exports,h=a("a18c"),b=(a("ba6a"),a("9225")),v=a("ee71"),g=a.n(v),E=a("336a"),O=a.n(E),w=a("31bd"),y=a("5f5b"),C=a("f213"),k=(a("1f54"),a("679c"),a("2dd8"),a("5903"),a("26e8"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("label",{class:e.classList},[a("input",{staticClass:"switch-input",attrs:{type:"checkbox"},domProps:{value:e.value,checked:e.isChecked},on:{change:e.handleChange}}),e.isOn?[a("span",{staticClass:"switch-label",attrs:{"data-on":e.on,"data-off":e.off}})]:[a("span",{staticClass:"switch-label"})],a("span",{staticClass:"switch-handle"})],2)}),P=[],D={model:{prop:"checked",event:"change"},props:{value:{default:!0},uncheckedValue:{default:!1},checked:{default:!1},type:{type:String,default:"default"},variant:{type:String,default:""},pill:{type:Boolean,default:!1},on:{type:String,default:null},off:{type:String,default:null},size:{type:String,default:null}},computed:{classList:function(){return["switch",this.switchType,this.switchVariant,this.switchPill,this.switchSize]},switchType:function(){return this.type?"switch-".concat(this.type):"switch-default"},switchVariant:function(){return this.variant?"switch-".concat(this.variant):"switch-secondary"},switchPill:function(){return this.pill?"switch-pill":null},switchSize:function(){return this.size?"switch-".concat(this.size):""},isChecked:function(){return this.checked===this.value},isOn:function(){return!!this.on||null}},methods:{handleChange:function(e){var t=e.target.checked;this.$emit("change",t?this.value:this.uncheckedValue)}}},M=D,x=Object(p["a"])(M,k,P,!1,null,null,null),A=x.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.isIntl?a("div",{staticClass:"languages mb-1"},e._l(e.languages,(function(t,s){return a("span",{key:s,staticClass:"badge mr-1 mb-0 pointer",class:"badge-"+(e.currentLanguage===s?"primary":"secondary"),on:{click:function(t){return e.changeLanguage(s,e.name)}}},[e._v(e._s(t))])})),0):e._e(),["select"].includes(e.field.type)?a("b-form-select",e._b({attrs:{formatter:e.getFormatter(e.field,e.value),id:e.id,options:e.options,name:e.name},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"b-form-select",e.field,!1)):["select2"].includes(e.field.type)?a("div",[a("b-select",e._b({attrs:{parent:e.parent},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"b-select",e.field,!1))],1):["tree","treeselect"].includes(e.field.type)?a("b-tree-select",e._b({attrs:{normalizer:e.treeSelectNormalizer,"value-consists-of":"LEAF_PRIORITY"},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"b-tree-select",e.field,!1)):["datetime"].includes(e.field.type)?a("date-picker",e._b({attrs:{name:e.name,type:e.field.type,format:"YYYY-MM-DDTHH:mm:ss","value-type":"format"},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"date-picker",e.field,!1)):["date"].includes(e.field.type)?a("date-picker",e._b({attrs:{name:e.name,type:e.field.type,format:"YYYY-MM-DD","value-type":"format"},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"date-picker",e.field,!1)):["radiolist"].includes(e.field.type)?a("b-form-radio-group",e._b({attrs:{name:e.name},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"b-form-radio-group",e.field,!1)):["checkboxlist"].includes(e.field.type)?a("b-form-checkbox-group",e._b({attrs:{name:e.name},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"b-form-checkbox-group",e.field,!1)):["checkboxtable"].includes(e.field.type)?a("div",{staticClass:"checkboxtable"},e._l(e.groupedOptions,(function(t,s){return a("div",{key:s,staticClass:"mt-1"},[a("b-form-checkbox-group",e._b({attrs:{name:e.name,options:t},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"b-form-checkbox-group",e.field,!1))],1)})),0):["textarea"].includes(e.field.type)?a("b-form-textarea",e._b({attrs:{name:e.name,id:e.id,rows:e.field.rows||3},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"b-form-textarea",e.field,!1)):["file-picker"].includes(e.field.type)?a("div",[a("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.file-manager",modifiers:{"file-manager":!0}}]},[e._v("选择文件")])],1):["image"].includes(e.field.type)?a("div",[a("b-card",{attrs:{"img-src":e.model,"img-left":""}},[a("b-card-text",[a("b-form-input",e._b({attrs:{name:e.name,id:e.id},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"b-form-input",e.field,!1))],1)],1)],1):["switch","checkbox"].includes(e.field.type)?a("div",[a("b-form-checkbox",e._b({attrs:{variant:"success",size:"lg",pill:"",type:"3d",id:e.id},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"b-form-checkbox",e.field,!1))],1):["wysiwyg","html"].includes(e.field.type)?a("div",[e.field.cropper?a("avatar-cropper",e._b({ref:"cropper",attrs:{trigger:"#cropper_"+e.id},on:{uploaded:e.cropperUploaded,completed:e.cropperUploadComplete}},"avatar-cropper",e.cropperOptions,!1)):e._e(),a("b-html-editor",e._b({ref:"editor",attrs:{state:e.state,id:e.id,content:e.model},on:{"open-cropper":function(t){e.$refs.cropper&&e.$refs.cropper.pickImage()},change:e.htmlEditorInput},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.wrapFirstLine(t)}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"b-html-editor",e.field,!1))],1):["json"].includes(e.field.type)?a("div",[a("b-json-editor",e._b({ref:"editor",attrs:{value:e.model,options:{modes:["tree","view","form","code","text","preview"],language:e.currentLanguage}},on:{input:function(t){e.model=arguments[0]}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"b-json-editor",e.field,!1))],1):e.field.fields?a("div",[["array"].includes(e.field.type)||e.field.is_array||e.parent.is_array?a("div",[e.field.is_table||e.parent.is_table?a("b-table",{attrs:{hover:"",bordered:"",items:e.model,fields:e.myFields},scopedSlots:e._u([e._l(e.myFields,(function(t,s){return{key:s,fn:function(i){return[a("b-form-field",{key:"input_"+i.index+"_"+s,attrs:{parent:e.parent,field:t,name:"input_"+i.index+"_"+s,id:"input_"+i.index+"_"+s},model:{value:e.model[i.index][s],callback:function(t){e.$set(e.model[i.index],s,t)},expression:"model[row.index][k]"}})]}}})),{key:"_actions",fn:function(t){return[a("b-btn",{attrs:{size:"sm"},on:{click:function(a){return e.model.splice(t.index+1,0,{})}}},[a("i",{staticClass:"icon-plus"}),e._v(" "+e._s(e.$t("actions.add"))+" ")]),a("b-btn",{attrs:{size:"sm"},on:{click:function(a){return e.model.splice(t.index,1)}}},[a("i",{staticClass:"icon-trash"}),e._v(" "+e._s(e.$t("actions.delete"))+" ")])]}}],null,!0)},[a("template",{slot:"HEAD__actions"},[a("b-btn",{attrs:{size:"sm"},on:{click:e.addRow}},[a("i",{staticClass:"icon-plus"}),e._v(" "+e._s(e.$t("actions.add"))+" ")])],1)],2):a("b-draggable",{model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},[a("transition-group",{staticClass:"row",attrs:{tag:"div"}},[e._l(e.model,(function(t,s){return a("b-col",{key:"draggable-"+e.name+"-"+s,attrs:{cols:"",lg:e.field.item_cols||6}},[a("b-card",{staticClass:"mb-4"},[a("b-row",{staticClass:"justify-content-between",attrs:{slot:"header"},slot:"header"},[a("b-col",[e._v("No. "+e._s(s+1))]),a("b-col",{staticClass:"text-right",attrs:{right:""}},[a("b-btn",{attrs:{size:"sm"},on:{click:function(t){return e.model.splice(s,1)}}},[a("i",{staticClass:"icon-trash"}),e._v(" "+e._s(e.$t("actions.delete"))+" ")])],1)],1),e._l(e.myFields,(function(t,i){return a("b-form-group",e._b({key:i,attrs:{"label-for":"input_"+e.name+"_"+s+"_"+i}},"b-form-group",t,!1),[a("b-form-field",{attrs:{parent:e.parent,name:e.name+"."+s+"."+i,field:t,id:"input_"+e.name+"_"+s+"_"+i},model:{value:e.model[s][i],callback:function(t){e.$set(e.model[s],i,t)},expression:"model[i][key]"}})],1)}))],2)],1)})),a("b-col",{key:-1,staticClass:"d-flex align-items-center justify-content-center",attrs:{cols:"",lg:e.field.item_cols||6}},[a("b-btn",{staticClass:"p-5",attrs:{size:"lg",block:""},on:{click:function(t){e.model=e.model?e.model:[],e.model.push({})}}},[a("i",{staticClass:"fa fa-plus"})])],1)],2)],1)],1):["object"].includes(e.field.type)?a("div",[a("b-card",[a("b-form-builder",{ref:"subForm",attrs:{"sub-form":e.name||"",languages:e.languages,fields:e.myFields,parent:e.parent},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)],1):a("div",e._l(e.myFields,(function(t,s){return a("b-form-group",e._b({key:s,attrs:{"label-for":"input_"+e.name+"_"+s}},"b-form-group",t,!1),[a("b-form-field",{attrs:{parent:e.parent,name:s,field:t,id:"input_"+e.name+"_"+s},model:{value:e.model[s],callback:function(t){e.$set(e.model,s,t)},expression:"model[key]"}})],1)})),1)]):a("b-input-group",[e.field.prependIcon||e.field.prepend?a("b-input-group-prepend",{attrs:{"is-text":""}},[e.field.prependIcon?a("i",{class:e.field.prependIcon}):a("span",{domProps:{innerHTML:e._s(e.field.prepend)}})]):e._e(),a("b-form-input",e._b({attrs:{state:e.state,id:e.id,name:e.name,formatter:e.getFormatter(e.field,e.value)},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},"b-form-input",e.field,!1)),e.field.appendIcon||e.field.append?a("b-input-group-append",{attrs:{"is-text":""}},[e.field.appendIcon?a("i",{class:e.field.appendIcon}):a("span",{domProps:{innerHTML:e._s(e.field.append)}})]):e._e()],1)],1)},$=[],j=a("ac01"),L=j["a"],I=(a("b619"),Object(p["a"])(L,T,$,!1,null,null,null)),S=I.exports,B=a("8a2b"),U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-table")},R=[],W={data:function(){return{}}},K=W,q=Object(p["a"])(K,U,R,!1,null,null,null),F=q.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.model?a("div",[e.inline?a(e.tag,{ref:"form",tag:"component",staticClass:"form form-inline",attrs:{action:e.actionUrl,method:e.method,enctype:"multipart/form-data"},on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[a("input",{attrs:{type:"hidden",name:"token"},domProps:{value:e.auth.token}}),e._l(e.fields,(function(t,s){return[!1!==t.label?a("label",{key:s,staticClass:"m-1",attrs:{for:"input_"+s}},[e._v(e._s(t.label||e.$inflection.titleize(s)))]):e._e(),a("b-form-field",{key:e.id+"_"+s,staticClass:"m-1 mr-4",attrs:{languages:e.languages,parent:e.parent||e.model,value:e.model[s],id:e.getFieldId(s),name:s,field:t,state:!e.hasError(s)},on:{input:function(t){return e.setValue(s,arguments[0],arguments[1])}}})]})),e._t("actions",[a("b-button",{ref:"submitButton",staticClass:"mr-1",attrs:{type:"submit",variant:"primary"}},[e._v(e._s(e.submitText))]),e.backText?a("b-button",{attrs:{type:"button",variant:"secondary"},on:{click:function(t){return e.$router.go(-1)}}},[e._v(e._s(e.backText)+" ")]):e._e(),e._t("extra-buttons")])],2):a(e.tag,{ref:"form",tag:"component",staticClass:"form",attrs:{action:e.actionUrl,method:e.method,enctype:"multipart/form-data"},on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[a("input",{attrs:{type:"hidden",name:"token"},domProps:{value:e.auth.token}}),e.groupBy?a("b-tabs",{staticClass:"my-3",class:{"hide-group-name":e._.get(e.layout,"hideGroupName")}},e._l(e.groupedFields,(function(t,s){return a("b-tab",{key:s,attrs:{title:e._.get(e.layout,"tabs."+s+".name")||s||e.$t("messages.default")}},[a("div",{staticClass:"row form-cols"},[a("b-col",{attrs:{md:e._.get(e.layout,"tabs."+s+".cols",12)}},[a("b-row",{staticClass:"mt-4"},[e._l(t,(function(t,s){return[e.isShowField(t)&&e.model?a("b-form-group",e._b({key:e.id+"_"+s,class:e.getClass(t),attrs:{state:!e.hasError(s),"label-for":"input_"+s,label:!1!==t.label?t.label||e.$inflection.titleize(s):""}},"b-form-group",t,!1),[a("div",{},[a("b-form-field",{class:e.getInputClass(t),attrs:{languages:e.languages,parent:e.parent||e.model,value:e.model[s],name:s,field:t,state:!e.hasError(s),id:"input_"+s},on:{input:function(t){return e.setValue(s,arguments[0],arguments[1])}}})],1)]):e._e()]}))],2)],1),e._.get(e.layout,"tabs."+s+".right")?a("b-col",{attrs:{md:12-e._.get(e.layout,"tabs."+s+".cols",0)}},[a("div",{domProps:{innerHTML:e._s(e._.get(e.layout,"tabs."+s+".right"))}})]):e._e()],1)])})),1):a("div",{staticClass:"row"},[e._l(e.fields,(function(t,s){return[e.isShowField(t)&&e.model?a("b-form-group",e._b({key:[e.id,e.subForm,s].join(),class:e.getClass(t),attrs:{state:!e.hasError(s),"label-for":e.getFieldId(s),label:!1!==t.label?t.label||e.$inflection.titleize(s):""}},"b-form-group",t,!1),[a("div",{},[a("b-form-field",{class:e.getInputClass(t),attrs:{languages:e.languages,parent:e.parent||e.model,value:e.model[s],name:e.getFieldName(s),field:t,state:!e.hasError(s),id:e.getFieldId(s)},on:{input:function(t){return e.setValue(s,arguments[0],arguments[1])}}})],1)]):e._e()]}))],2),e.subForm?e._e():e._t("actions",[a("b-button",{ref:"submitButton",staticClass:"mr-1",attrs:{type:"submit",variant:"primary"}},[e._v(e._s(e.submitText))]),e.backText?a("b-button",{attrs:{type:"button",variant:"secondary"},on:{click:function(t){return e.$router.go(-1)}}},[e._v(e._s(e.backText)+" ")]):e._e()])],2)],1):e._e()},H=[],z=a("d751"),V=z["a"],G=Object(p["a"])(V,N,H,!1,null,null,null),J=G.exports,Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-table",{staticClass:"table-builder",attrs:{fields:e.fields,items:e.items},scopedSlots:e._u([e._l(e.fields,(function(t,s){return{key:s,fn:function(i){return[a("b-data-value",{key:s,attrs:{field:t,lang:e.currentLanguage,name:s,model:i.item,"short-id":""}})]}}}))],null,!0)},[e._l(e._.omit(e.fields,"_actions"),(function(t,s){return a("template",{slot:"HEAD_"+s},[a("div",{key:s,class:{"text-right":["number"].includes(t.type)}},[e._v(" "+e._s(t.label||s)+" ")])])}))],2)},Q=[],X={components:{BDataValue:B["a"]},props:{fields:{},items:Array},computed:Object(l["a"])(Object(l["a"])({},Object(c["c"])(["site","i18n"])),Object(c["b"])(["currentMenu","currentLanguage"]))},Z=X,ee=Object(p["a"])(Z,Y,Q,!1,null,null,null),te=ee.exports,ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"avatar-cropper"},[e.dataUrl?a("div",{staticClass:"avatar-cropper-overlay"},[a("div",{staticClass:"avatar-cropper-mark"},[a("a",{staticClass:"avatar-cropper-close",attrs:{href:"javascript:;"},on:{click:e.destroy}},[e._v("×")])]),a("div",{staticClass:"avatar-cropper-container"},[a("div",{staticClass:"avatar-cropper-image-container"},[a("img",{ref:"img",attrs:{src:e.dataUrl,alt:""},on:{load:function(t){return t.stopPropagation(),e.createCropper(t)}}})]),a("div",{staticClass:"avatar-cropper-footer"},[a("button",{staticClass:"avatar-cropper-btn",attrs:{type:"button"},domProps:{textContent:e._s(e.labels.cancel)},on:{click:e.destroy}},[e._v("Cancel")]),a("button",{staticClass:"avatar-cropper-btn",attrs:{type:"button"},domProps:{textContent:e._s(e.labels.submit)},on:{click:e.submit}},[e._v("Submit")])])])]):e._e(),a("input",{ref:"input",staticClass:"avatar-cropper-img-input",attrs:{type:"file",accept:e.mimes}})])},se=[],ie=(a("c975"),a("b0c0"),a("a9e3"),a("53ca")),ne=(a("6107"),a("bab4")),re=a.n(ne),oe={props:{trigger:{type:[String,Element],required:!0},uploadHandler:{type:Function},uploadUrl:{type:String},uploadHeaders:{type:Object},uploadFormName:{type:String,default:"file"},uploadFormData:{type:Object,default:function(){return{}}},cropperOptions:{type:Object,default:function(){return{aspectRatio:1,autoCropArea:1,viewMode:1,movable:!1,zoomable:!1}}},outputOptions:{type:Object,default:function(){return{width:512,height:512}}},outputMime:{type:String,default:"image/jpeg"},outputQuality:{type:Number,default:.9},mimes:{type:String,default:"image/png, image/gif, image/jpeg, image/bmp, image/x-icon"},labels:{type:Object,default:function(){return{submit:"提交",cancel:"取消"}}}},data:function(){return{cropper:void 0,dataUrl:void 0,filename:void 0}},methods:{destroy:function(){this.cropper.destroy(),this.$refs.input.value="",this.dataUrl=void 0},submit:function(){this.$emit("submit"),this.uploadUrl?this.uploadImage():this.uploadHandler?this.uploadHandler(this.cropper):this.$emit("error","No upload handler found.","user"),this.destroy()},pickImage:function(){this.$refs.input.click()},createCropper:function(){this.cropper=new re.a(this.$refs.img,this.cropperOptions)},uploadImage:function(){var e=this;this.cropper.getCroppedCanvas(this.outputOptions).toBlob((function(t){var a=new FormData,s=new XMLHttpRequest,i=Object.assign({},e.uploadFormData);for(var n in i)a.append(n,i[n]);for(var r in a.append(e.uploadFormName,t,e.filename),e.$emit("uploading",a,s),s.open("POST",e.uploadUrl,!0),e.uploadHeaders)s.setRequestHeader(r,e.uploadHeaders[r]);s.onreadystatechange=function(){if(4===s.readyState){var t="";try{t=JSON.parse(s.responseText)}catch(i){t=s.responseText}e.$emit("completed",t,a,s),[200,201,204].indexOf(s.status)>-1?e.$emit("uploaded",t,a,s):e.$emit("error","Image upload fail.","upload",s)}},s.send(a)}),this.outputMime,this.outputQuality)}},mounted:function(){var e=this,t="object"==Object(ie["a"])(this.trigger)?this.trigger:document.querySelector(this.trigger);t?t.addEventListener("click",this.pickImage):this.$emit("error","No avatar make trigger found.","user");var a=this.$refs.input;a.addEventListener("change",(function(){if(null!=a.files&&null!=a.files[0]){var t=new FileReader;t.onload=function(t){e.dataUrl=t.target.result},t.readAsDataURL(a.files[0]),e.filename=a.files[0].name||"unknown",e.$emit("changed",a.files[0],t)}}))}},le=oe,ce=(a("18a9"),Object(p["a"])(le,ae,se,!1,null,null,null)),ue=ce.exports,_e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.component?a(e.component,{tag:"component"}):e._e()],1)},de=[],pe=(a("13d5"),a("4fad"),a("3835")),fe=a("4478"),me=a("2909"),he={props:{config:{required:!0}},data:function(){return{component:null}},mounted:function(){},watch:{config:"setComponent"},methods:{setComponent:function(){if(!this.config)return this.component=null;if("string"===typeof this.config)return this.component={template:this.config};var e={},t=this.config,a=Object.assign({},t.data);e.data=a,e.name=t.name,"function"!==typeof e.data&&(e.data=function(){return Object.assign({},a)});var s=function(e){return Array.isArray(e)?Object(fe["a"])(Function,Object(me["a"])(e)):e},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.entries(e).reduce((function(e,t){var a=Object(pe["a"])(t,2),i=a[0],n=a[1];return e[i]=s(n),e}),{})};e.methods=i(t.methods,s),e.computed=i(t.computed,s),e.created=t.created?s(t.created):null,e.mounted=t.mounted?s(t.mounted):null,e.watch=t.watch?s(t.watch):null,e.template=t.template,e.render=s(t.render),this.component=Object.assign({},e,{})}}},be=he,ve=Object(p["a"])(be,_e,de,!1,null,null,null),ge=ve.exports,Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"editor"})},Oe=[],we=(a("6014"),a("dcf5")),ye=a.n(we),Ce={name:"b-json-editor",props:{value:null,options:{}},data:function(){return{editor:null}},mounted:function(){var e=this;this.options.onChange=function(){e.$emit("input",e.editor.get())},this.editor=new ye.a(this.$refs.editor,this.options),"string"===typeof this.value&&(this.value=JSON.parse(this.value)),this.editor.set(this.value||{})},created:function(){}},ke=Ce,Pe=Object(p["a"])(ke,Ee,Oe,!1,null,null,null),De=Pe.exports;n["default"].component("b-switch",A),n["default"].component("b-form-field",S),n["default"].component("b-data-value",B["a"]),n["default"].component("b-data-table",F),n["default"].component("b-form-builder",J),n["default"].component("b-table-builder",te),n["default"].component("avatar-cropper",ue),n["default"].component("custom-component",ge),n["default"].component("b-json-editor",De);var Me=a("460a"),xe=a("6ad0"),Ae=a.n(xe);n["default"].use(O.a),n["default"].prototype.$inflection=g.a,n["default"].use(C["a"]),n["default"].config.productionTip=!1,n["default"].use(y["a"]),n["default"].prototype.$storage=Me["a"],n["default"].component("BLoading",Ae.a),n["default"].prototype._=i.a,Object(w["sync"])(u["a"],h["a"]),u["a"].dispatch(u["b"].GET_AUTH),u["a"].dispatch(u["b"].FETCH_LOCALE),new n["default"]({el:"#app",router:h["a"],store:u["a"],i18n:b["a"],watch:{},methods:{},render:function(e){return e(m)},created:function(){}})},5903:function(e,t,a){},"5da2":function(e,t,a){"use strict";var s=a("93ed"),i=a.n(s);i.a},"6cef":function(e,t,a){},"6e87":function(e,t,a){"use strict";t["a"]={SET_AUTH:"SET_AUTH",GET_AUTH:"GET_AUTH",SET_SITE:"SET_SITE",GO_LOGIN:"GO_LOGIN",SET_PAGE_HEADER:"SET_PAGE_HEADER",FETCH_PAGE_HEADER:"FETCH_PAGE_HEADER",SET_LOCALE:"SET_LOCALE",FETCH_LOCALE:"FETCH_LOCALE",SET_THEME:"SET_THEME",FETCH_SITE:"FETCH_SITE",DOWNLOAD:"DOWNLOAD",SHOW_FILE_BROWSER:"SHOW_FILE_BROWSER",FETCH_ONLINE_FILES:"FETCH_ONLINE_FILES",START_LOADING:"START_LOADING",STOP_LOADING:"STOP_LOADING"}},8242:function(e,t,a){"use strict";var s=a("c34b"),i=a.n(s);i.a},"85ec":function(e,t,a){},"8a2b":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"break-all data-value"},[["html"].includes(e.field.type)?[a("div",{staticClass:" data-value-html",domProps:{innerHTML:e._s(e.value)}})]:["number"].includes(e.field.type)?[a("div",[e._v(e._s(e.value))])]:["image"].includes(e.field.type)?[e.field.multiple?e._l(e.value,(function(t){return a("b-img",e._b({key:t,staticClass:"type-image",attrs:{src:e.preview(t)},on:{click:function(a){return a.stopPropagation(),e.previewInModal(t)}}},"b-img",e.field,!1))})):a("b-img",e._b({staticClass:"type-image",attrs:{src:e.preview(e.value),fluid:""},on:{click:function(t){return t.stopPropagation(),e.previewInModal(e.value)}}},"b-img",e.field,!1))]:["json"].includes(e.field.type)?[a("b-json-pretty",{attrs:{value:e.value}})]:["audio","video"].includes(e.field.type)?[a(e.field.type,{tag:"component",attrs:{src:e.value,controls:""}})]:["file"].includes(e.field.type)?[e.value?a("a",{attrs:{target:"blank",href:e.value}},[a("i",{staticClass:"fa fa-file"}),e._v(" "+e._s(String(e.value).split("/").pop())+" ")]):a("div",{staticClass:"text-muted"})]:["link"].includes(e.field.type)?[a("a",{class:e.field.classes,attrs:{href:e.value,target:e.field.target}},[e.field.icon?a("i",{class:e.field.icon}):e._e(),e._v(" "+e._s(e.value)+" ")])]:["switch","boolean","checkbox"].includes(e.field.type)?[a("b-badge",{attrs:{variant:e.value?"success":"danger"}},[e._v(" "+e._s(e.value?"Yes":"No")+" ")])]:e.field.refLabel?[[e._v(" "+e._s(e._.get(e.model||{},[e.name].concat(e.field.refLabel.split("."))))+" ")]]:e.field.ref?[e.field.multiple?[e._v(" "+e._s(e._.map(e._.get(e.model||{},e.field.ref.split(".")[0]),e.field.ref.split(".")[1]).join(","))+" ")]:e.isIntl?[e._v(" "+e._s(e._.get(e.model||{},e.field.ref.split(".").concat([e.lang])))+" ")]:[e._v(" "+e._s(e._.get(e.model||{},e.field.ref))+" ")]]:e.name===e.pk?[e.value?a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top.d100",modifiers:{hover:!0,top:!0,d100:!0}}],attrs:{title:e.value}},[e._v(" "+e._s(String(e.shortId?String(e.value).substr(-4):e.value).toUpperCase())+" ")]):e._e()]:["date","datetime"].includes(e.field.type)?[e.value?a("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.top.d100",modifiers:{hover:!0,top:!0,d100:!0}}],attrs:{title:e.value}},["date"===e.field.type?[e._v(" "+e._s(e.$d(new Date(e.value),"short"))+" ")]:[e._v(" "+e._s(e.$d(new Date(e.value),"long"))+" ")]],2):e._e()]:[e._v(" "+e._s(e.value)+" ")],a("b-modal",{attrs:{title:e.field.label},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[a("b-img",{staticClass:"my-2",attrs:{src:e.preview(e.previewValue),center:"",fluid:""}})],1)],2)},i=[],n=(a("caad"),a("b0c0"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("2ef0")),r=a.n(n),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("vue-json-pretty",{attrs:{data:e.value,highlightMouseoverNode:!0}})],1)},l=[],c=a("d538"),u=a.n(c),_={name:"b-json-pretty",components:{VueJsonPretty:u.a},props:{value:null}},d=_,p=a("2877"),f=Object(p["a"])(d,o,l,!1,null,null,null),m=f.exports,h={components:{BJsonPretty:m},data:function(){return{previewValue:null,showModal:!1}},props:{field:{required:!0,type:Object},pk:{required:!0,type:Intl},name:{required:!0,type:String},model:{required:!0,type:Object},lang:{},shortId:{required:!1,type:Boolean,default:!1}},computed:{isIntl:function(){return this.field.intl||this.field.multilingual},value:function(){var e=r.a.get(this.model||{},this.field.refLabel||this.field.ref||this.name);if(!e)return e;if(["select","select2","radiolist","checkboxlist"].includes(this.field.type)){var t=r.a.mapValues(r.a.keyBy(this.field.options,"value"),"text");return t[e]}return this.lang&&this.isIntl?r.a.get(e,this.lang,null):e}},methods:{previewInModal:function(e){this.showModal=!0,this.previewValue=e},preview:function(e){if(e)return"string"===typeof e?e:e instanceof File?URL.createObjectURL(e):""}}},b=h,v=(a("5da2"),Object(p["a"])(b,s,i,!1,null,null,null));t["a"]=v.exports},9120:function(e,t,a){},9225:function(e,t,a){"use strict";a("4160"),a("d3b7"),a("ac1f"),a("466d"),a("5319"),a("159b"),a("ddb0");var s=a("a026"),i=a("a925"),n=a("ee71"),r=a.n(n);function o(){var e=a("49f8"),t={};return e.keys().forEach((function(a){var s=a.match(/([A-Za-z0-9-_]+)\./i);if(s&&s.length>1){var i=s[1];t[i]=e(a)}})),t}s["default"].use(i["a"]);var l={"en-US":{short:{month:"short",day:"numeric"},long:{month:"short",day:"numeric",hour:"numeric",minute:"numeric"}},"zh-CN":{short:{month:"short",day:"numeric"},long:{month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1}}};t["a"]=new i["a"]({locale:Object({VUE_APP_API_URL:"https://api-fastapi-admin.long2ice.cn/admin/",NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_I18N_LOCALE||"en-US",fallbackLocale:Object({VUE_APP_API_URL:"https://api-fastapi-admin.long2ice.cn/admin/",NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_I18N_FALLBACK_LOCALE||"en-US",messages:o(),dateTimeFormats:l,silentTranslationWarn:!0,missing:function(e,t){if(t)return r.a.titleize(t.replace(/^\w+\./,""))}})},"93ed":function(e,t,a){},9741:function(e,t,a){},a18c:function(e,t,a){"use strict";var s,i,n,r,o=a("a026"),l=a("8c4f"),c=a("4360"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-table")],1)},_=[],d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"custom-table"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-12"},[!1!==e._.get(e.actions,"toolbar.create")?a("b-btn",{staticClass:"mr-1",attrs:{size:"sm",to:e.uri+"/create",variant:"secondary"}},[a("i",{staticClass:"icon-plus"}),e._v(" "+e._s(e.$t("actions.create"))+" ")]):e._e(),!1!==e._.get(e.actions,"toolbar.reload")?a("b-btn",{staticClass:"mr-1",attrs:{size:"sm",variant:"success"},on:{click:e.fetch}},[a("i",{staticClass:"icon-reload"}),e._v(" "+e._s(e.$t("actions.reload"))+" ")]):e._e(),e._l(e._.get(e.actions,"toolbar.extra",[]),(function(t){return a("b-btn",e._b({key:t.label,staticClass:"mr-1",attrs:{size:"sm"}},"b-btn",t,!1),[e._v(e._s(t.label)+" ")])})),a("b-dropdown",{staticClass:"mr-1",attrs:{"no-caret":"",size:"sm",variant:"primary"},scopedSlots:e._u([{key:"button-content",fn:function(){return[a("i",{staticClass:"icon-settings"},[e._v(" "+e._s(e.$t("actions.columns"))+" ")])]},proxy:!0}])},[a("b-dd-form",[a("b-form-checkbox-group",{attrs:{stacked:"",options:e.column_options},on:{change:e.columns_select_change},model:{value:e.columns_select,callback:function(t){e.columns_select=t},expression:"columns_select"}})],1)],1)],2)]),a("div",{},[a("div",{staticClass:"my-2"},[e._.keys(e.table.searchFields).length>0?a("b-form-builder",{attrs:{onSubmit:e.doSearch,"back-text":"",inline:"","submit-text":e.$t("actions.search"),fields:e.searchFields},model:{value:e.table.searchModel,callback:function(t){e.$set(e.table,"searchModel",t)},expression:"table.searchModel"}},[a("div",{staticClass:"ml-1",attrs:{slot:"extra-buttons"},slot:"extra-buttons"},[this.export?a("b-button",{attrs:{type:"button",variant:"success"},on:{click:e.searchAndExport}},[e._v(e._s(e.$t("actions.search_and_export"))+" ")]):e._e()],1),a("div",{staticClass:"ml-1",attrs:{slot:"extra-buttons"},slot:"extra-buttons"},[a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file"}}),this.import?a("b-button",{attrs:{type:"button",variant:"secondary"},on:{click:function(t){return e.$refs.file.click()}}},[e._v(e._s(e.$t("actions.import"))+" ")]):e._e()],1)]):e._e()],1),a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col-md-8"},[a("b-pagination",{attrs:{limit:e.pageLimit,"total-rows":e.total,"per-page":e.perPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1),a("div",{staticClass:"col-md-4 form-inline justify-content-end"},[a("b-select",{staticClass:"mx-2",attrs:{options:e.pages},model:{value:e.perPage,callback:function(t){e.perPage=t},expression:"perPage"}}),a("span",[e._v(e._s(e.$t("messages.paginate",{total:e.total})))])],1)]),e.table.fields?a("b-table",{ref:"table",staticClass:"data-table",attrs:{items:e.fetchItems,fields:e.columns,selectable:"","per-page":e.perPage,"select-mode":e.selectModel,"current-page":e.currentPage,"sort-by":e.sortBy,"sort-desc":e.sortDesc,"sort-direction":e.sortDirection},on:{"row-selected":e.onRowSelected,"update:sortBy":function(t){e.sortBy=t},"update:sort-by":function(t){e.sortBy=t},"update:sortDesc":function(t){e.sortDesc=t},"update:sort-desc":function(t){e.sortDesc=t}},scopedSlots:e._u([{key:"cell(selected)",fn:function(t){var s=t.rowSelected;return[s?[a("span",{attrs:{"aria-hidden":"true"}},[e._v("✓")]),a("span",{staticClass:"sr-only"},[e._v("Selected")])]:[a("span",{attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[e._v("Not selected")])]]}},{key:"cell()",fn:function(t){return[["datetime"].includes(t.field.type)?[e._v(" "+e._s(e.$d(new Date(t.value),"long"))+" ")]:["date"].includes(t.field.type)?[e._v(" "+e._s(e.$d(new Date(t.value),"short"))+" ")]:["image"].includes(t.field.type)?[a("b-img",{staticClass:"type-image",attrs:{width:"50px",src:t.value,fluid:""}})]:["link"].includes(t.field.type)?[a("a",{class:t.field.classes,attrs:{href:t.value,target:t.field.target}},[t.field.icon?a("i",{class:t.field.icon}):e._e(),e._v(" "+e._s(t.value)+" ")])]:["switch","boolean","checkbox"].includes(t.field.type)?[a("b-badge",{attrs:{variant:t.value?"success":"danger"}},[e._v(" "+e._s(t.value?"Yes":"No")+" ")])]:["html"].includes(t.field.type)?[a("div",{staticClass:" data-value-html",domProps:{innerHTML:e._s(t.value)}})]:["select","select2","radiolist","checkboxlist"].includes(t.field.type)?[e._v(" "+e._s(e._.find(t.field.options,{value:t.value}).text)+" ")]:[a("span",{staticClass:"d-inline-block text-truncate",staticStyle:{"max-width":"200px"}},[e._v(" "+e._s(t.value)+" ")])]]}},{key:"cell(_actions)",fn:function(t){return[!1!==e.actions.view?a("b-btn",{staticClass:"mr-1",attrs:{variant:"success",size:"sm",to:e.uri+"/"+t.item[e.pk]}},[e._v(e._s(e.$t("actions.view"))+" ")]):e._e(),!1!==e.actions.edit?a("b-btn",{staticClass:"mr-1",attrs:{variant:"primary",size:"sm",to:e.uri+"/"+t.item[e.pk]+"/edit"}},[e._v(e._s(e.$t("actions.edit"))+" ")]):e._e(),!1!==e.actions.delete?a("b-btn",{attrs:{size:"sm"},on:{click:function(a){return a.stopPropagation(),e.remove(t.item[e.pk])}}},[e._v(e._s(e.$t("actions.delete"))+" ")]):e._e()]}}],null,!1,971956793)}):e._e(),a("div",{staticClass:"form-inline my-2"},[a("b-button",{staticClass:"mr-1",attrs:{size:"sm"},on:{click:e.selectAllRows}},[e._v(e._s(e.$t("actions.select_all")))]),a("b-button",{staticClass:"mr-1",attrs:{size:"sm"},on:{click:e.clearSelected}},[e._v(e._s(e.$t("actions.clear_selected")))]),a("b-form-select",{staticClass:"mr-1",attrs:{size:"sm",options:e.bulkActions},model:{value:e.selectBulkAction,callback:function(t){e.selectBulkAction=t},expression:"selectBulkAction"}}),a("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:e.submitBulk}},[e._v(e._s(e.$t("actions.submit")))])],1),a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"col-md-10"},[a("b-pagination",{attrs:{limit:e.pageLimit,"total-rows":e.total,"per-page":e.perPage},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1),a("div",{staticClass:"col-md-2 text-right"},[e._v(e._s(e.$t("messages.paginate",{total:e.total})))])])],1)])},p=[],f=(a("99af"),a("4de4"),a("4160"),a("c975"),a("d81d"),a("4fad"),a("ac1f"),a("5319"),a("1276"),a("159b"),a("bf19"),a("ade3")),m=a("3835"),h=a("5530"),b=a("2f62"),v=a("2ef0"),g=a.n(v),E=a("21a6"),O={components:{},props:{},data:function(){return{init:!1,loaded:!1,table:{},modes:["multi","single","range"],selectModel:"multi",total:0,pageLimit:10,currentPage:1,sortBy:this.pk,sortDesc:!0,sortDirection:null,perPage:10,where:{},selected_pk_list:[],bulkActions:{},selectBulkAction:null,pages:[10,20,50,100],columns_select:[],column_options:[],searchFields:{}}},watch:{"$route.query":function(e){this.applyRouteQuery()},"$route.params":function(e){this.applyRouteQuery(),this.fetch()}},computed:Object(h["a"])(Object(h["a"])(Object(h["a"])({},Object(b["c"])(["site","i18n","auth"])),Object(b["b"])(["currentLanguage"])),{},{columns:function(){var e=this,t=Object.entries(this.table.fields),a=t.filter((function(t){return e.columns_select.indexOf(t[0])>-1||"_actions"===t[0]}));return a.map((function(e){var t=Object(m["a"])(e,2),a=t[0],s=t[1];return Object(h["a"])({key:a},s)}))},pk:function(){return g.a.get(this.table,"pk")},export:function(){return g.a.get(this.table,"export")},import:function(){return g.a.get(this.table,"import_")},populate:function(){return g()(this.table.fields||{}).map("ref").filter().map((function(e){return e.split(".").shift()})).uniq().toJSON()},actions:function(){return g.a.get(this.table,"fields._actions",{})},resource:function(){return this.$route.params.resource},uri:function(){return this.site.resource_prefix+"/"+this.resource.replace(/\./g,"/")}}),methods:{columns_select_change:function(e){localStorage.setItem(this.resource,JSON.stringify(e))},get_select_change:function(){var e=localStorage.getItem(this.resource);return e?JSON.parse(e):[]},submitBulk:function(){var e=this;window.confirm(this.$t("messages.confirm_bulk_action"))&&this.$http.post(this.uri+"/bulk/"+this.selectBulkAction,{pk_list:this.selected_pk_list}).then((function(){e.$snotify.success(e.$t("messages.bulk_success")),e.fetch()}))},selectAllRows:function(){this.$refs.table.selectAllRows()},onRowSelected:function(e){var t=this;this.selected_pk_list=g.a.map(e,(function(e){return e[t.pk]}))},clearSelected:function(){this.$refs.table.clearSelected()},doSearch:function(e){this.where=g.a.omitBy(e,(function(e){return null===e})),this.$refs.table.refresh()},searchAndExport:function(){var e=this,t=JSON.stringify({where:g.a.clone(this.table.searchModel),with:g.a.clone(this.populate)});this.$http.get(this.uri+"/export",{responseType:"arraybuffer",params:{query:t}}).then((function(t){var a=new Blob([t.data]);Object(E["saveAs"])(a,"".concat(e.resource,".xlsx"))}))},select_file:function(e){console.log(e)},applyRouteQuery:function(){var e=JSON.parse(this.$route.query.query||"{}"),t=e.sort,a=void 0===t?{}:t,s=e.page,i=void 0===s?1:s,n=e.where,r=void 0===n?{}:n,o=Object.entries(a).pop()||[],l=Object(m["a"])(o,2),c=l[0],u=l[1];c&&(this.sortBy=c),u&&(this.sortDesc=-1===u),this.total=i*this.perPage,this.currentPage=i,this.where=r,this.init=!0},remove:function(e){var t=this;window.confirm("是否删除?")&&this.$http.delete("".concat(this.uri,"/").concat(e)).then((function(e){t.$snotify.success("删除成功"),t.$refs.table.refresh()}))},fetchItems:function(e){var t=this,a=g.a.merge({},g.a.get(this.table,"query"),{page:e.currentPage,size:e.perPage,sort:Object(f["a"])({},e.sortBy,this.sortDesc?-1:1),where:this.where,with:this.populate});return this.init?this.$http.get(this.uri,{params:{query:JSON.stringify(a)}}).then((function(e){var a=e.data,s=a.total,i=a.data;return t.total=s,i})).catch((function(e){return[]})):[]},fetch:function(){var e=this;this.init=!1,this.columns_select=this.get_select_change();var t=0!==this.columns_select.length;this.column_options=[],this.$http.get(this.uri+"/grid").then((function(a){g.a.mapValues(a.data.bulk_actions,(function(t){t.text=e.$t("actions.".concat(t.text))})),e.bulkActions=a.data.bulk_actions,g.a.mapValues(a.data.fields,(function(e){e.thClass="bg-light"})),g.a.forEach(a.data.fields,(function(a,s){e.column_options.push({text:a.label,value:s}),t||e.columns_select.push(s)})),e.table=a.data,e.searchFields=e.table.searchFields,!1!==g.a.get(e.table,"fields._actions")&&(g.a.set(e.table,"fields._actions.label",e.$t("actions.actions")),g.a.set(e.table,"fields._actions.thClass","bg-light")),e.init=!0,e.$refs.table&&e.$refs.table.refresh()})).catch((function(t){e.table={}}))}},mounted:function(){},created:function(){this.applyRouteQuery(),this.fetch()}},w=O,y=a("2877"),C=Object(y["a"])(w,d,p,!1,null,null,null),k=C.exports,P={name:"resource-index",components:{CustomTable:k},data:function(){return{}},computed:{resource:function(){return this.$route.params.resource}},methods:{},created:function(){}},D=P,M=Object(y["a"])(D,u,_,!1,null,null,null),x=M.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-data-form",{attrs:{resource:e.resource,id:e.id,languages:e.$store.state.site.languages}})],1)},T=[],$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"data-form"},[a("div",{staticClass:"row d-none"},[a("div",{staticClass:"col col-md-8"},[(e.model[e.pk],e._e())]),a("div",{staticClass:"col col-md-4 text-right hidden-sm-down"},[a("b-btn",{on:{click:function(t){return e.$router.go(-1)}}},[e._v(e._s(e.$t("actions.back")))]),a("b-btn",{attrs:{variant:"primary"},on:{click:function(t){return e.$refs.form.submitForm()}}},[e._v(e._s(e.$t("actions.save")))])],1)]),e.loaded?a("b-form-builder",{ref:"form",attrs:{languages:e.$store.state.site.languages,"group-by":"group",auth:e.auth,layout:e.layout,fields:e.fields,action:e.resourceUri,method:e.method},on:{success:e.onSuccess},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}):e._e()],1)},j=[],L=(a("a15b"),{components:{},props:{resource:{type:String,required:!0},id:{default:"",required:!0},formPath:{type:String,default:"form",required:!1}},data:function(){return{redirect:-1,loaded:!1,choices:{},fields:{},model:{},errors:[],pk:null,tag:"b-card",header:"\n      ".concat(g.a.get(this.currentMenu,"name","")||"","\n      <small> ").concat(this.resource.toUpperCase()," </small>\n    ")}},watch:{id:"fetchForm","site.fetched":function(e){e&&this.fetchForm(!0)}},computed:Object(h["a"])(Object(h["a"])({resourceUri:function(){var e=[this.site.resource_prefix,this.resource,this.id].filter((function(e){return e})).join("/"),t=this.$route.params.group;return t&&(e+="?group="+t),e},formUri:function(){var e=[this.site.resource_prefix,this.resource,this.formPath].filter((function(e){return e})).join("/");return e+="?id="+(this.id||""),e},isNew:function(){return!this.id},method:function(){return this.isNew?"post":"put"},with:function(){return g.a.filter(g.a.map(this.fields,(function(e){return e.ref&&e.ref.split(".").shift()})))}},Object(b["c"])(["nav","auth","site"])),Object(b["b"])(["currentMenu"])),methods:{fetch:function(){var e=this;if(this.isNew)return this.model={},void(this.loaded=!0);this.$http.get(this.resourceUri,{params:{query:{with:this.with}}}).then((function(t){var a=t.data;e.loaded=!0,e.model=a}))},fetchForm:function(){var e=this;this.$http.get(this.formUri,{params:this.$route.params}).then((function(t){var a=t.data;e.fields=a.fields,e.pk=a.pk,e.layout=a.layout,e.redirect=a.redirect,a.header&&(e.header=a.header),a.tag&&(e.tag=a.tag),e.fetch()}))},onSuccess:function(){!1===this.redirect?this.fetchForm():-1!==this.redirect&&this.redirect?this.$router.go(this.redirect):this.$router.go(-1)}},mounted:function(){this.site.fetched&&this.fetchForm()},created:function(){}}),I=L,S=Object(y["a"])(I,$,j,!1,null,null,null),B=S.exports,U={name:"resource-edit",components:{BDataForm:B},data:function(){return{}},computed:{id:function(){return this.$route.params.id},resource:function(){return this.$route.params.resource}},watch:{},methods:{},created:function(){}},R=U,W=Object(y["a"])(R,A,T,!1,null,null,null),K=W.exports,q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-row",[a("b-col",{attrs:{cols:"12",xl:"12"}},[a("b-data-view",{attrs:{resource:e.resource,id:e.id}})],1)],1)],1)},F=[],N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-view"},[a("div",{staticClass:"data-view"},[e.model["__str__"]?a("legend",[e._v(e._s(e.$t("actions.view"))+": "+e._s(e.model["__str__"]))]):e._e(),a("table",{staticClass:"table "},[a("tbody",e._l(e.fields,(function(t,s){return a("tr",{key:s},[a("th",{staticStyle:{"min-width":"120px"}},[e._v(e._s(t.label||s))]),a("td",[["array"].includes(t.type)?a("div",[a("b-table",{attrs:{items:e.model[s],fields:t.fields},scopedSlots:e._u([e._l(t.fields,(function(t,s){return{key:s,fn:function(i){return[a("b-data-value",{key:s,attrs:{lang:e.currentLanguage,field:t,name:s,model:i.item}})]}}}))],null,!0)})],1):a("div",[a("b-data-value",{attrs:{lang:e.currentLanguage,field:t,name:s,model:e.model}})],1)])])})),0)])]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("b-btn",{on:{click:function(t){return e.$router.go(-1)}}},[e._v(e._s(e.$t("actions.back")))])],1)])},H=[],z=a("8a2b"),V={components:{BDataValue:z["a"]},props:{resource:{type:String,required:!0},id:{default:"",required:!0},viewPath:{type:String,default:"view",required:!1}},data:function(){return{choices:{},fields:{},model:{},errors:[],items:[],pk:null}},computed:Object(h["a"])(Object(h["a"])(Object(h["a"])({resourceUri:function(){return[this.site.resource_prefix,this.resource,this.id].filter((function(e){return e})).join("/")},viewUri:function(){var e=[this.site.resource_prefix,this.resource,this.viewPath].filter((function(e){return e})).join("/");return e+="?id="+(this.id||""),e},with:function(){return g.a.filter(g.a.map(this.fields,(function(e){return e.ref&&e.ref.replace(/\.\w+$/,"")})))}},Object(b["c"])(["site"])),Object(b["b"])(["currentMenu","currentLanguage"])),{},{header:function(){return"\n      ''\n      <small> ".concat(this.resource.toUpperCase()," </small>\n    ")}}),methods:{fetch:function(){var e=this;this.$http.get(this.resourceUri,{params:{query:{with:this.with}}}).then((function(t){var a=t.data;e.model=a}))},fetchView:function(){var e=this;this.$http.get(this.viewUri).then((function(t){var a=t.data;e.fields=a.fields,e.pk=a.pk,delete e.fields._actions,e.fetch()}))}},watch:{id:"fetchForm","site.fetched":function(e){e&&this.fetchView(!0)}},mounted:function(){},created:function(){this.site.fetched&&this.fetchView()}},G=V,J=Object(y["a"])(G,N,H,!1,null,null,null),Y=J.exports,Q={components:{BDataView:Y},data:function(){return{}},computed:{id:function(){return this.$route.params.id},resource:function(){return this.$route.params.resource}},methods:{},created:function(){}},X=Q,Z=Object(y["a"])(X,q,F,!1,null,null,null),ee=Z.exports,te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-row",[a("b-col",{attrs:{cols:"6",lg:"8"}},[a("b-card",{attrs:{header:e.resource}},[a("b-data-chart",{attrs:{resource:e.resource,id:e.id,group:e.group}})],1)],1)],1)],1)},ae=[],se={props:{resource:{type:String,required:!0},group:{type:String,required:!0}},data:function(){return{options:{}}},computed:{resourceUri:function(){return this.resource+"/stat"}},methods:{fetch:function(){var e=this;this.$http.get(this.resourceUri,{params:{group:this.group}}).then((function(t){var a=t.data;e.options=a,e.renderChart(e.options)}))}},mounted:function(){this.fetch()}},ie=se,ne=Object(y["a"])(ie,s,i,!1,null,null,null),re=ne.exports,oe={name:"resource-stat",components:{BDataChart:re},data:function(){return{}},computed:{id:function(){return this.$route.params.id},resource:function(){return this.$route.params.resource},group:function(){return this.$route.query.group||"status"}},methods:{},created:function(){}},le=oe,ce=Object(y["a"])(le,te,ae,!1,null,null,null),ue=ce.exports,_e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-card",{attrs:{header:e.form.header}},[a("div",{staticClass:"custom-form"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col col-md-8"},[a("legend",[e._v(e._s(e.form.title))])]),a("div",{staticClass:"col col-md-4 text-right hidden-sm-down"},[a("b-btn",{on:{click:function(t){return e.$router.go(-1)}}},[e._v(e._s(e.$t("actions.back")))]),a("b-btn",{attrs:{variant:"primary"},on:{click:function(t){return e.$refs.form.handleSubmit()}}},[e._v(e._s(e.form.submitText||e.$t("actions.save")))])],1)]),e.form.fields?a("b-form-builder",e._b({ref:"form",attrs:{auth:e.auth,fields:e.form.fields},on:{success:e.onSuccess}},"b-form-builder",e.form,!1)):e._e()],1)])},de=[],pe=a("1484"),fe=pe["a"],me=Object(y["a"])(fe,_e,de,!1,null,null,null),he=me.exports,be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.data.html?a("div",{directives:[{name:"append",rawName:"v-append",value:e.data.html,expression:"data.html"}]}):e._e()},ve=[],ge={data:function(){return{data:{}}},computed:{uri:function(){return this.$route.params.uri.replace(/\./g,"/")}},methods:{fetch:function(){var e=this;this.$http.get(this.uri).then((function(t){var a=t.data;e.data=a}))}},created:function(){this.fetch()},watch:{uri:function(e){this.fetch()}}},Ee=ge,Oe=Object(y["a"])(Ee,be,ve,!1,null,null,null),we=Oe.exports,ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app login-container",style:e.site.login_style},[a("div",{staticClass:"col-md-7 mt-5"},[a("div",{staticClass:"card-group"},[a("div",{staticClass:"card p-4"},[a("div",{staticClass:"card-body"},[a("h1",[e._v(e._s(e.$t("actions.login")))]),a("img",{staticStyle:{"margin-bottom":"20px"},attrs:{src:e.site.login_logo}}),a("p",{staticClass:"text-muted"},[e._v(e._s(e.$t("messages.login_please")))]),a("b-form-builder",{attrs:{action:"login",fields:e.fields,submitText:e.$t("actions.login"),backText:""},on:{success:e.onSuccess},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)]),a("div",{staticClass:"card text-white bg-primary py-5 d-md-down-none",style:e.site.desbg_style},[a("div",{staticClass:"card-body text-center align-items-center d-flex"},[a("div",{staticStyle:{width:"100%"}},[a("h2",[e._v(e._s(e.site.name||"FASTAPI ADMIN")+" - "+e._s(e.$t("messages.dashboard")))]),a("p",[e._v(e._s(e.site.login_description||e.$t("messages.login_description")))])])])])]),a("p",{staticClass:"text-muted m-4 text-center"},[e._v(e._s(e.site.login_footer||e.$t("messages.login_footer")))]),a("locale-switcher",{staticClass:"text-center"})],1)])},Ce=[],ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.site.locale_switcher?a("div",{staticClass:"py-2"},e._l(Object.keys(e.$i18n.messages),(function(t){return a("b-button",{key:t,staticClass:"mr-1",attrs:{size:"sm"},on:{click:function(a){return e.changeLocale(t)}}},[e._v(e._s(e._f("ucfirst")(t)))])})),1):e._e()},Pe=[],De=(a("fb6a"),a("6e87")),Me={computed:Object(h["a"])({},Object(b["c"])(["site"])),filters:{ucfirst:function(e){return String(e)[0].toUpperCase()+String(e).slice(1)}},methods:{changeLocale:function(e){this.$store.commit(De["a"].SET_LOCALE,e)}}},xe=Me,Ae=Object(y["a"])(xe,ke,Pe,!1,null,null,null),Te=Ae.exports,$e={name:"Login",components:{LocaleSwitcher:Te},computed:Object(h["a"])(Object(h["a"])({},Object(b["c"])(["auth","site"])),{},{fields:function(){return{username:{label:this.$t("fields.username"),placeholder:this.$t("fields.username"),icon:"icon-user"},password:{label:this.$t("fields.password"),placeholder:this.$t("fields.password"),icon:"icon-lock",type:"password"}}}}),data:function(){return{model:{username:"",password:""},errors:[]}},methods:{onSuccess:function(e){this.$store.commit(c["b"].SET_AUTH,e),this.$store.dispatch(c["b"].FETCH_SITE),this.$router.push({path:e.redirect||"/"})}},mounted:function(){}},je=$e,Le=(a("206d"),Object(y["a"])(je,ye,Ce,!1,null,null,null)),Ie=Le.exports,Se={mounted:function(){this.$store.commit(De["a"].SET_AUTH,{}),this.$store.dispatch(De["a"].GO_LOGIN)}},Be=Se,Ue=Object(y["a"])(Be,n,r,!1,null,null,null),Re=Ue.exports,We=function(){var e,t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"overflow-hidden"},[s("b-row",[s("b-col",{class:(e={},e["fold-"+t.foldLevel]=!0,e),attrs:{cols:6,md:"3",lg:"2",xl:"2"}},[s("b-sidebar",{attrs:{collapsed:t.collapsed}})],1),s("b-col",{staticStyle:{"overflow-x":"auto"}},[s("main",{staticClass:"pt-3"},[s("b-loading",{staticStyle:{height:"100vh"},attrs:{active:t.$store.state.loading&&t.$store.state.site.enable_loading,spinner:"bar-fade-scale"}}),t._e(),s("div",{},[s("custom-component",{attrs:{config:t.$store.state.site.header}}),s("div",{staticClass:"px-2"},[s("div",{staticClass:"page-header h2"},[s("b-btn",{staticClass:"mr-2",attrs:{variant:"light"},on:{click:t.toggleSidebar}},[s("i",{staticClass:"icon-menu"})]),t.$store.state.site.page_header?s("span",{domProps:{innerHTML:t._s(t.$store.state.site.page_header)}}):t._e()],1),s("div",{staticClass:"page-body"},[s("router-view",{staticClass:"animated fadeIn"})],1)])],1)],1)])],1),s("b-row",[s("b-footer")],1)],1)},Ke=[],qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"app-header navbar"},[a("button",{staticClass:"navbar-toggler mobile-sidebar-toggler d-lg-none",attrs:{type:"button"},on:{click:e.mobileSidebarToggle}},[a("span",{staticClass:"navbar-toggler-icon"})]),a("b-link",{staticClass:"navbar-brand",attrs:{to:"/"}}),a("button",{staticClass:"navbar-toggler sidebar-toggler d-md-down-none",attrs:{type:"button"},on:{click:e.sidebarToggle}},[a("span",{staticClass:"navbar-toggler-icon"})]),a("b-navbar-nav",{staticClass:"d-md-down-none",attrs:{"is-nav-bar":""}},[a("b-nav-item",{staticClass:"px-3"},[e._v("Dashboard")]),a("b-nav-item",{staticClass:"px-3"},[e._v("Users")]),a("b-nav-item",{staticClass:"px-3"},[e._v("Settings")])],1),a("b-navbar-nav",{staticClass:"ml-auto",attrs:{"is-nav-bar":""}},[a("b-nav-item",{staticClass:"d-md-down-none"},[a("i",{staticClass:"icon-bell"}),a("b-badge",{attrs:{pill:"",variant:"danger"}},[e._v("5")])],1),a("b-nav-item",{staticClass:"d-md-down-none"},[a("i",{staticClass:"icon-list"})]),a("b-nav-item",{staticClass:"d-md-down-none"},[a("i",{staticClass:"icon-location-pin"})]),a("b-nav-item-dropdown",{attrs:{right:"","no-caret":""}},[a("template",{slot:"button-content"},[a("img",{staticClass:"img-avatar",attrs:{src:"static/img/avatars/6.jpg",alt:"admin@bootstrapmaster.com"}})]),a("b-dropdown-header",{staticClass:"text-center",attrs:{tag:"div"}},[a("strong",[e._v("Account")])]),a("b-dropdown-item",[a("i",{staticClass:"fa fa-bell-o"}),e._v(" Updates"),a("b-badge",{attrs:{variant:"info"}},[e._v(e._s(e.itemsCount))])],1),a("b-dropdown-item",[a("i",{staticClass:"fa fa-envelope-o"}),e._v(" Messages"),a("b-badge",{attrs:{variant:"success"}},[e._v(e._s(e.itemsCount))])],1),a("b-dropdown-item",[a("i",{staticClass:"fa fa-tasks"}),e._v(" Tasks"),a("b-badge",{attrs:{variant:"danger"}},[e._v(e._s(e.itemsCount))])],1),a("b-dropdown-item",[a("i",{staticClass:"fa fa-comments"}),e._v(" Comments"),a("b-badge",{attrs:{variant:"warning"}},[e._v(e._s(e.itemsCount))])],1),a("b-dropdown-header",{staticClass:"text-center",attrs:{tag:"div"}},[a("strong",[e._v("Settings")])]),a("b-dropdown-item",[a("i",{staticClass:"fa fa-user"}),e._v(" Profile")]),a("b-dropdown-item",[a("i",{staticClass:"fa fa-wrench"}),e._v(" Settings")]),a("b-dropdown-item",[a("i",{staticClass:"fa fa-usd"}),e._v(" Payments"),a("b-badge",{attrs:{variant:"default"}},[e._v(e._s(e.itemsCount))])],1),a("b-dropdown-item",[a("i",{staticClass:"fa fa-file"}),e._v(" Projects"),a("b-badge",{attrs:{variant:"primary"}},[e._v(e._s(e.itemsCount))])],1),a("b-dropdown-divider"),a("b-dropdown-item",[a("i",{staticClass:"fa fa-shield"}),e._v(" Lock Account")]),a("b-dropdown-item",[a("i",{staticClass:"fa fa-lock"}),e._v(" Logout")])],2)],1),a("button",{staticClass:"navbar-toggler aside-menu-toggler d-md-down-none",attrs:{type:"button"},on:{click:e.asideToggle}},[a("span",{staticClass:"navbar-toggler-icon"})])],1)},Fe=[],Ne={name:"header",components:{},data:function(){return{itemsCount:3}},methods:{sidebarToggle:function(e){e.preventDefault(),document.body.classList.toggle("sidebar-hidden")},sidebarMinimize:function(e){e.preventDefault(),document.body.classList.toggle("sidebar-minimized")},mobileSidebarToggle:function(e){e.preventDefault(),document.body.classList.toggle("sidebar-mobile-show")},asideToggle:function(e){e.preventDefault(),document.body.classList.toggle("aside-menu-hidden")}}},He=Ne,ze=Object(y["a"])(He,qe,Fe,!1,null,null,null),Ve=(ze.exports,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pt-3 pl-3"},[a("div",{staticClass:"text-center top"},[e.site.logo?a("a",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}],attrs:{href:e.site.url,target:"_blank"}},[a("b-img",{staticClass:"site-logo",attrs:{src:e.site.logo,fluid:""}})],1):e._e(),e.auth.user.avatar?a("b-img",{staticClass:"m-2",attrs:{rounded:"circle",src:e.auth.user.avatar,height:"70","blank-color":"#777",alt:"avatar"}}):e._e(),!1!==e.site.sidebar_userinfo?a("div",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}],staticClass:"my-3"},[a("h5",{staticStyle:{"letter-spacing":"2px"}},[e._v(e._s(e.site.name))]),e.auth.user?[e.auth.user.badge?a("b-badge",{staticClass:"text-uppercase mr-1"},[e._v(e._s(e.auth.user.badge))]):e._e(),a("span",[e._v(e._s(e.auth.user.username))]),a("i",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-prevent-closing",modifiers:{"modal-prevent-closing":!0}}],staticClass:"reset-pass fa fa-key fa-fw"}),a("div",[a("b-modal",{ref:"modal",attrs:{id:"modal-prevent-closing","ok-title":e.$t("actions.submit"),"cancel-title":e.$t("actions.cancel"),title:e.$t("texts.update_password")},on:{ok:e.handleOk}},[a("form",{ref:"form",on:{submit:function(t){return t.stopPropagation(),t.preventDefault(),e.handleSubmit(t)}}},[a("b-form-group",{attrs:{label:e.$t("fields.old_password"),"label-for":"old-password-input",state:e.old_password_state}},[a("b-form-input",{attrs:{id:"old-password-input",required:"",type:"password",state:e.old_password_state},model:{value:e.form.old_password,callback:function(t){e.$set(e.form,"old_password",t)},expression:"form.old_password"}})],1),a("b-form-group",{attrs:{label:e.$t("fields.new_password"),"label-for":"new-password-input",state:e.new_password_state}},[a("b-form-input",{attrs:{id:"new-password-input",type:"password",state:e.new_password_state,required:""},model:{value:e.form.new_password,callback:function(t){e.$set(e.form,"new_password",t)},expression:"form.new_password"}})],1),a("b-form-group",{attrs:{label:e.$t("fields.confirm_password"),"label-for":"confirm-password-input",state:e.confirm_password_state}},[a("b-form-input",{attrs:{id:"confirm-password-input",type:"password",state:e.confirm_password_state,required:""},model:{value:e.form.confirm_password,callback:function(t){e.$set(e.form,"confirm_password",t)},expression:"form.confirm_password"}})],1)],1)])],1)]:e._e()],2):a("div"),a("locale-switcher",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}]}),a("theme-switcher",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}]})],1),a("div",{attrs:{slot:"header"},slot:"header"}),a("b-nav",{staticClass:"sidebar-nav",attrs:{pills:"",vertical:""}},[e._l(e.site.menus,(function(t,s){var i,n;return[t.children?[a("b-nav-text",{key:s},[a("small",{staticClass:"text-muted"},[a("b",[e._v(e._s(t.name))])])]),e._l(t.children,(function(t){var s,i;return[t.external?a("b-nav-item",{key:t.name,attrs:{active:e.$route.path===t.url,target:"_blank",href:t.url}},[a("i",{class:(s={"mr-2":!e.collapsed},s[t.icon]=!0,s)}),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}]},[e._v(e._s(t.name))]),t.badge?a("b-badge",e._b({},"b-badge",t.badge,!1),[e._v(e._s(t.badge.text))]):e._e()],1):a("b-nav-item",{key:t.name,attrs:{active:e.$route.path===t.url,to:t.url}},[a("i",{class:(i={"mr-1":!e.collapsed},i[t.icon]=!0,i)}),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}]},[e._v(e._s(t.name))]),t.badge?a("b-badge",e._b({},"b-badge",t.badge,!1),[e._v(e._s(t.badge.text))]):e._e()],1)]}))]:[t.external?a("b-nav-item",{key:t.name,attrs:{active:e.$route.path===t.url,target:"_blank",href:t.url}},[a("i",{class:(i={"mr-2":!e.collapsed},i[t.icon]=!0,i)}),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}]},[e._v(e._s(t.name))]),t.badge?a("b-badge",e._b({},"b-badge",t.badge,!1),[e._v(e._s(t.badge.text))]):e._e()],1):a("b-nav-item",{key:t.name,attrs:{active:e.$route.path===t.url,to:t.url}},[a("i",{class:(n={"mr-1":!e.collapsed},n[t.icon]=!0,n)}),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}]},[e._v(e._s(t.name))]),t.badge?a("b-badge",e._b({},"b-badge",t.badge,!1),[e._v(e._s(t.badge.text))]):e._e()],1)]]}))],2),a("p")],1)}),Ge=[],Je=(a("b0c0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.$store.state.site.theme_switcher?a("div",{staticClass:"m-4"},[a("b-select",{attrs:{options:e.themeOptions},model:{value:e.theme,callback:function(t){e.theme=t},expression:"theme"}})],1):e._e()}),Ye=[],Qe={computed:{theme:{get:function(){return this.$store.state.site.theme},set:function(e){this.$store.commit(De["a"].SET_THEME,e)}}},data:function(){return{themeOptions:"\n      cerulean  darkly    litera    materia   sandstone slate     superhero\n      cosmo     flatly    lumen     minty     simplex   solar     united\n      cyborg    journal   lux       pulse     sketchy   spacelab  yeti\n      ".split(/\s+/)}},created:function(){this.theme=this.$storage.get("theme")||"cosmo"}},Xe=Qe,Ze=Object(y["a"])(Xe,Je,Ye,!1,null,null,null),et=Ze.exports,tt={name:"sidebar",props:{collapsed:{type:Boolean,default:!1}},data:function(){return{form:{confirm_password:null,old_password:null,new_password:null},confirm_password_state:null,old_password_state:null,new_password_state:null}},computed:Object(h["a"])(Object(h["a"])({},Object(b["c"])(["auth","site"])),{},{menus:function(){var e=[],t=[];for(var a in this.site.menus.forEach((function(e,a){e.title&&t.push(parseInt(a))})),t)e.push({name:this.site.menus[t[a]].name,children:this.site.menus.slice(t[a]+1,t[parseInt(a)+1])});return e}}),components:{LocaleSwitcher:Te,ThemeSwitcher:et},methods:{toggle:function(e){this.$set(e,"open",!e.open)},handleSubmit:function(){var e=this;this.checkFormValidity()&&(this.$http.put("password",this.form).then((function(t){var a=t.data;e.$snotify.success(e.$t("messages.succeed")),e.$emit("success",a)})).catch((function(t){var a=t.data,s=t.status;422==s&&(e.errors=a.message)})),this.$nextTick((function(){e.$bvModal.hide("modal-prevent-closing")})))},checkFormValidity:function(){var e=this.$refs.form.checkValidity();return this.old_password_state=e,this.new_password_state=e,this.confirm_password_state=e,this.form.new_password!==this.form.confirm_password?(this.confirm_password_state=!1,!1):e},handleOk:function(e){e.preventDefault(),this.handleSubmit()}}},at=tt,st=(a("f203"),Object(y["a"])(at,Ve,Ge,!1,null,null,null)),it=st.exports,nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-footer"},[e.site.footer?a("footer",{domProps:{innerHTML:e._s(e.site.footer)}}):a("footer",[e._m(0)])])},rt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"ml-auto"},[e._v(" GitHub "),a("a",{attrs:{target:"_blank",href:"https://github.com/long2ice/fastapi-admin"}},[e._v("FASTAPI-ADMIN")]),e._v(" - FastAPI Admin Dashboard ")])}],ot={computed:Object(h["a"])({},Object(b["c"])(["site"]))},lt=ot,ct=(a("53d7"),Object(y["a"])(lt,nt,rt,!1,null,null,null)),ut=ct.exports,_t={components:{BSidebar:it,BFooter:ut},computed:Object(h["a"])(Object(h["a"])({},Object(b["c"])(["site"])),{},{collapsed:function(){return this.foldLevel>0}}),data:function(){return{path:[],header:"",foldLevel:0}},watch:{},methods:{toggleSidebar:function(){++this.foldLevel>2&&(this.foldLevel=0)}},created:function(){}},dt=_t,pt=(a("8242"),Object(y["a"])(dt,We,Ke,!1,null,null,null)),ft=pt.exports,mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.data.html?a("div",{domProps:{innerHTML:e._s(e.data.html)}}):e._e()},ht=[],bt={data:function(){return{data:{},html:""}},methods:{fetch:function(){var e=this;this.$http.get("/home").then((function(t){var a=t.data;e.data=a}))}},created:function(){this.fetch()}},vt=bt,gt=Object(y["a"])(vt,mt,ht,!1,null,null,null),Et=gt.exports;o["default"].use(l["a"]);var Ot=new l["a"]({scrollBehavior:function(){return{x:0,y:0}},routes:[{path:"/login",name:"login",component:Ie,meta:{isPublic:!0}},{path:"/logout",name:"logout",component:Re,meta:{isPublic:!0}},{path:"/",component:ft,children:[{path:"/",redirect:"/home"},{path:"/home",name:"home",component:Et},{path:"/rest/:resource/stat/:type?",name:"stat",component:ue},{path:"/rest/:resource",name:"index",component:x},{path:"/rest/:resource/create/:group?",name:"create",component:K},{path:"/rest/:resource/:id/edit/:group?",name:"edit",component:K},{path:"/rest/:resource/:id/:group?",name:"show",component:ee},{path:"/form/:uri?",name:"form",component:he},{path:"/table/:uri?",name:"table",component:k},{path:"/page/:uri?",name:"page",component:we}]}]});Ot.beforeEach((function(e,t,a){c["a"].state.auth.token||e.meta.isPublic?a():a({name:"login"})}));t["a"]=Ot},ac01:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global){var core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a4d3"),core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_symbol__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("e01a"),core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_symbol_description__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("99af"),core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_array_filter__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("4de4"),core_js_modules_es_array_filter__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_filter__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_array_find__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("7db0"),core_js_modules_es_array_find__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_array_find__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_array_includes__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("caad"),core_js_modules_es_array_includes__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_array_includes__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("b0c0"),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_regexp_exec__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_string_includes__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("2532"),core_js_modules_es_string_includes__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_string_includes__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_string_search__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("841c"),core_js_modules_es_string_search__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_string_search__WEBPACK_IMPORTED_MODULE_9__),vue__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("a026"),vuedraggable__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("310e"),vuedraggable__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(vuedraggable__WEBPACK_IMPORTED_MODULE_11__),_riophae_vue_treeselect__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("ca17"),_riophae_vue_treeselect__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(_riophae_vue_treeselect__WEBPACK_IMPORTED_MODULE_12__),_riophae_vue_treeselect_dist_vue_treeselect_min_css__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("6f8d"),_riophae_vue_treeselect_dist_vue_treeselect_min_css__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(_riophae_vue_treeselect_dist_vue_treeselect_min_css__WEBPACK_IMPORTED_MODULE_13__),_FormSelect2__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("df4d"),vue2_datepicker__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("ec45"),vue2_datepicker_index_css__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("411c"),vue2_datepicker_index_css__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(vue2_datepicker_index_css__WEBPACK_IMPORTED_MODULE_16__),vue2_datepicker_locale_zh_cn__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("7b16"),vue2_datepicker_locale_zh_cn__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(vue2_datepicker_locale_zh_cn__WEBPACK_IMPORTED_MODULE_17__),_FormUploader__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("0958"),vue_html5_editor__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("c097"),vue_html5_editor__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(vue_html5_editor__WEBPACK_IMPORTED_MODULE_19__),lodash__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("2ef0"),lodash__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_20__);__webpack_exports__["a"]={components:{DatePicker:vue2_datepicker__WEBPACK_IMPORTED_MODULE_15__["default"],BSelect:_FormSelect2__WEBPACK_IMPORTED_MODULE_14__["a"],BDraggable:vuedraggable__WEBPACK_IMPORTED_MODULE_11___default.a,BTreeSelect:_riophae_vue_treeselect__WEBPACK_IMPORTED_MODULE_12___default.a},props:{languages:{},id:{required:!0},parent:{},value:{},field:{},state:{},name:{}},computed:{cropperOptions:function(){return{"upload-url":global.API_URI+"upload","upload-headers":{Authorization:"Bearer "+this.$store.state.auth.token},"upload-form-name":"file","upload-form-data":{from:"cropper"},"cropper-options":{viewMode:2,aspectRatio:lodash__WEBPACK_IMPORTED_MODULE_20___default.a.get(this.field,"cropper.ratio",1)},"output-options":this.field.cropper,labels:this.field.labels||{submit:"提交",cancel:"取消"}}},isSelect:function(){return["select","select2"].includes(this.field.type)},isSelect2:function(){return["select2"].includes(this.field.type)},groupedOptions:function(){return lodash__WEBPACK_IMPORTED_MODULE_20___default.a.groupBy(this.options,"group")},myFields:function(){var e=this.field.fields;if("string"==typeof e){var t=this.parent[e];if(!t)return{};try{e=JSON.parse(t)}catch(a){e={}}}return this.parent.is_table&&(e._actions={label:this.$t("actions.actions")}),e},description:function(){if(this.field.limit){var e=this.field.limit,t=e.width,a=e.height;return t&&a?"尺寸：".concat(t,"x").concat(a):void 0}return this.field.description},filteredValue:function(){var e=this.value;return this.defaultValue||(["object","json"].includes(this.field.type)&&(e={}),(["array"].includes(this.field.type)||this.field.multiple)&&(e=[])),e},isArrayValue:function(){return this.field.multiple||this.field.is_array||"array"==this.field.type||this.field.is_table},isIntl:function(){return this.field.intl||this.field.multilingual},selectedValue1:function(){var e=this,t=this.initSelectedValue;return t=this.isArrayValue?lodash__WEBPACK_IMPORTED_MODULE_20___default.a.filter(this.options,(function(t){return e.value&&e.value.includes(t.value)})):lodash__WEBPACK_IMPORTED_MODULE_20___default.a.find(this.options,(function(t){return e.value==t.value})),t},model:{get:function(){var e=this.field.multiple||this.field.is_array||"array"==this.field.type||this.field.is_table,t="object"==this.field.type||"json"==this.field.type,a=this.value;return this.value||(e?a=[]:t&&(a={})),this.isIntl?lodash__WEBPACK_IMPORTED_MODULE_20___default.a.get(a,this.currentLanguage,""):a},set:function(e){this.$emit("input",e,this.currentLanguage)}}},data:function(){var e=this.field.multiple||this.field.is_array||"array"===this.field.type;return{currentLanguage:this.field.currentLanguage||"en",options:this.field.options||[],initSelectedValue:e&&!this.value?[]:this.value,selectedValue:e&&!this.value?[]:this.value}},watch:{field:function(e){this.options=e.options}},methods:{addRow:function(){var e=this;this.parent[this.name]||this.$set(this.parent,this.name,[]),this.$nextTick((function(){e.model.push({})}))},initEditor:function(){var e="zh-cn";window.document.execCommand("defaultParagraphSeparator",!1,"p");var t=this.field.modules||["text","heading","align","list","link","unlink","tabulation","image","hr","eraser","undo","full-screen","cropper"],a=lodash__WEBPACK_IMPORTED_MODULE_20___default.a.get(this.field,"cropper.icon","fa fa-crop text-danger");vue__WEBPACK_IMPORTED_MODULE_10__["default"].use(vue_html5_editor__WEBPACK_IMPORTED_MODULE_19___default.a,{name:"b-html-editor",language:e,showModuleName:!1,modules:[{name:"cropper",icon:a,i18n:"cropper",show:!0,handler:function(e){e.$emit("open-cropper")}},{name:"heading",icon:"fa fa-header",i18n:"heading",show:!0,dashboard:{template:'\n                <div>\n                <button v-for="h in 6" type="button" @click="setHeading(h)">H{{ h }}</button>\n                </div>\n              ',methods:{setHeading:function(e){this.$parent.execCommand("formatBlock","h".concat(e))}}}}],i18n:{"zh-cn":{cropper:"图片裁剪",heading:"标题"}},image:{sizeLimit:10485760,upload:{url:global.API_URI+"upload",headers:{Authorization:"Bearer "+this.$store.state.auth.token},fieldName:"file"},uploadHandler:function(e){var t;try{t=JSON.parse(e)}catch(a){this.$notify.error("上传失败")}return t.url}},visibleModules:t})},cropperUploaded:function(e){this.$refs.editor.execCommand("insertHTML",'<img src="'.concat(e.url,'" />'))},cropperUploadComplete:function(e){e.message&&this.$snotify.error(e.message)},changeLanguage:function(e){this.currentLanguage=e},htmlEditorInput:function(e){this.$emit("input",e,this.currentLanguage)},wrapFirstLine:function(){},treeSelectNormalizer:function(e){return{id:e.value,label:e.text}},getFormatter:function getFormatter(field){return field.format?eval(field.format):function(e){return e}},fetchAjaxOptions:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this.field.ajaxOptions,s=a.url,i=a.resource,n=a.where,r=void 0===n?{}:n;a.text,a.depends;a.where=Object.assign({},r,t),this.q&&(a.q=this.q);var o=s?lodash__WEBPACK_IMPORTED_MODULE_20___default.a.template(s)({item:this.parent}):i+"/options";this.$http.get(o,{params:a}).then((function(t){var a=t.data;e.options=a}))}},mounted:function(){this.field.type},created:function(){"html"==this.field.type&&this.initEditor(),this.field.ajaxOptions&&!0!==this.field.ajaxOptions.search&&this.fetchAjaxOptions(),this.isSelect2}}}).call(this,__webpack_require__("c8ba"))},b619:function(e,t,a){"use strict";var s=a("9120"),i=a.n(s);i.a},ba6a:function(e,t,a){"use strict";(function(e){a("d3b7");var s=a("a026"),i=a("bc3a"),n=a.n(i),r=a("4360"),o=a("2ef0"),l=a.n(o),c="https://api-fastapi-admin.long2ice.cn/admin/";e.API_URI=c,n.a.defaults.baseURL=c,e.LOADING_ENABLED=!0,n.a.interceptors.request.use((function(t){return e.LOADING_ENABLED&&r["a"].commit(r["b"].START_LOADING),t.headers.Authorization="Bearer "+r["a"].state.auth.token,t})),n.a.interceptors.response.use((function(t){r["a"].commit(r["b"].STOP_LOADING),e.LOADING_ENABLED=!0;var a=l.a.get(t,"data._meta.page_header");return r["a"].commit(r["b"].SET_PAGE_HEADER,a),t}),(function(e){var t=e.response;r["a"].commit(r["b"].STOP_LOADING);var a=t.data,i=t.status;t.statusText;switch(i){case 401:r["a"].dispatch(r["b"].GO_LOGIN);break;case 500:s["default"].prototype.$snotify.error(String("Server Error"));break;default:var n=l.a.get(a,"msg");n&&s["default"].prototype.$snotify.error(String(n))}return Promise.reject(t)})),s["default"].prototype.$http=n.a,t["a"]=n.a}).call(this,a("c8ba"))},c248:function(e,t,a){},c34b:function(e,t,a){},d751:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global){var core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("99af"),core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_concat__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_find__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("7db0"),core_js_modules_es_array_find__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_find__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("d81d"),core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_number_constructor__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("a9e3"),core_js_modules_es_number_constructor__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_number_constructor__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_object_entries__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("4fad"),core_js_modules_es_object_entries__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_object_entries__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("ddb0"),core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_6__),_home_runner_work_restful_admin_restful_admin_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("3835"),lodash__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("2ef0"),lodash__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_8__);__webpack_exports__["a"]={name:"b-form-builder",components:{},props:{parent:{},subForm:{type:String,default:""},id:{type:String,default:function(){return"form_"+parseInt(9999*Math.random())}},auth:{type:Object,default:function(){return{}}},col:{type:Number,default:12},languages:{},inline:{type:Boolean,default:!1},useFormData:{type:Boolean,default:!1},submitRawForm:{type:Boolean,default:!1},groupBy:{type:String,default:null},value:{type:Object,default:function(){return{}}},fields:{required:!0,default:function(){return{}}},layout:{required:!1,default:function(){return{}}},onSubmit:{type:Function,required:!1},beforeSubmit:{type:Function,required:!1},action:{},method:{default:"post"},submitText:{default:function(){return this.$t?this.$t("actions.save"):"Submit"}},backText:{default:function(){return this.$t?this.$t("actions.back"):"Back"}},successMessage:{default:function(){return this.$t?this.$t("messages.succeed"):"Succeed"}}},data:function(){return{model:null,errors:[]}},watch:{},computed:{tag:function(){return this.subForm?"div":"form"},actionUrl:function(){return global.API_URI+this.action},groupedFields:function(){var e=this,t={};return lodash__WEBPACK_IMPORTED_MODULE_8___default.a.keys(lodash__WEBPACK_IMPORTED_MODULE_8___default.a.groupBy(this.fields,this.groupBy)).map((function(a){var s=a;"undefined"===a&&(a=null,s=e.$t("messages.default")),t[s]=lodash__WEBPACK_IMPORTED_MODULE_8___default.a.pickBy(e.fields,(function(e){return e.group==a}))})),t}},methods:{getFieldId:function(e){return this.subForm?"input_".concat(this.subForm,"_").concat(e):"input_".concat(e)},getFieldName:function(e){return this.subForm?"".concat(this.subForm,"[").concat(e,"]"):e},setValue:function(e,t,a){var s=this.fields[e].multilingual||this.fields[e].intl;return s?a&&!lodash__WEBPACK_IMPORTED_MODULE_8___default.a.isObject(this.model[e])?this.$set(this.model,e,{}):this.$set(this.model[e],a,t):this.$set(this.model,e,t),this.$emit("input",this.model)},titlize:function(){},isShowField:function isShowField(field){return!field.showWhen||this.model[field.showWhen]||eval(field.showWhen)},getInputClass:function(){return[]},getClass:function(e){var t=e.cols?e.cols:12,a=["col-lg-"+t,"col-"+Math.min(12,2*t)];return a},hasError:function(e){return lodash__WEBPACK_IMPORTED_MODULE_8___default.a.find(this.errors,(function(t){return t.field==e}))},submitForm:function(){this.$refs.submitButton.click()},handleSubmit:function(){var e=this;if(this.beforeSubmit){var t=this.beforeSubmit(this.model);if(!1===t)return!1}if(this.submitRawForm)return this.$refs.form.submit(),!0;if(this.onSubmit)return this.onSubmit(this.model);var a=String(this.method).toLowerCase(),s=this.model;this.useFormData&&(s=new FormData,lodash__WEBPACK_IMPORTED_MODULE_8___default.a.mapValues(this.model,(function(e,t){return s.append(t,e)}))),this.$http[a](this.action,s).then((function(t){var a=t.data;e.successMessage&&e.$snotify.success(e.successMessage),e.errors=[],e.$emit("success",a)})).catch((function(t){var a=t.data,s=t.status;422==s&&(e.errors=a.message)}))}},mounted:function(){var e=this;this.model=Object.assign({},this.value);for(var t=0,a=Object.entries(this.fields);t<a.length;t++){var s=Object(_home_runner_work_restful_admin_restful_admin_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_7__["a"])(a[t],2),i=s[0],n=s[1];"object"!==n.type||this.model[i]||this.$set(this.model,i,{})}this.$watch("value",(function(t){e.model=Object.assign({},t)}),{deep:!0})},created:function(){}}}).call(this,__webpack_require__("c8ba"))},df4d:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-select",{attrs:{label:"text",options:e.newOptions,multiple:e.multiple},on:{search:e.getAjaxOptions},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},[a("div",{attrs:{slot:"no-options"},slot:"no-options"},[e._v(e._s(e.noOptionsText))])])},i=[],n=(a("99af"),a("4de4"),a("7db0"),a("caad"),a("d81d"),a("fb6a"),a("b0c0"),a("2532"),a("ade3")),r=a("4a7a"),o=a.n(r),l={components:{VSelect:o.a},data:function(){return{newOptions:this.options.slice(0),q:""}},props:{value:{deafult:function(){return this.multiple?[]:null}},options:{default:function(){return[]}},name:{},multiple:{},field:{},parent:{},ajaxOptions:{},noOptionsText:{default:function(){return this.$t("messages.no_options_text")}}},computed:{model:{get:function(){var e=this;return this.multiple?this.newOptions.filter((function(t){return e.value.includes(t.value)})):this.newOptions.find((function(t){return e.value===t.value}))},set:function(e){if(null===e||null===e.value)return this.$emit("input",null);var t;if(this.multiple){var a=JSON.stringify(e)!==JSON.stringify(this.value);a&&(t=e.map((function(e){return e.value})))}else t=e.value;null!==t&&this.$emit("input",t)}}},methods:{getAjaxOptions:function(e){this.q=e,this.fetchOptions()},initOptionsForSelect2:function(){var e=this.parent[this.name+"_data"];e&&(this.newOptions=this.options.concat(e))},fetchOptions:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this.ajaxOptions,s=a.url,i=a.resource,n=a.where,r=void 0===n?{}:n;a.text,a.depends;a.where=Object.assign({},r,t),this.q&&(a.q=this.q);var o=s?_.template(s)({item:this.parent}):i+"/options";this.$http.get(o,{params:a}).then((function(t){var a=t.data;e.model={value:null},e.newOptions=a}))}},mounted:function(){var e=this;if(this.ajaxOptions){var t=this.ajaxOptions,a=(t.url,t.resource,t.where,t.depends);a?this.$watch("parent.".concat(a),(function(t){e.fetchOptions(Object(n["a"])({},a,t))}),{immediate:!0}):this.fetchOptions()}}},c=l,u=a("2877"),d=Object(u["a"])(c,s,i,!1,null,null,null);t["a"]=d.exports},e0e1:function(e){e.exports=JSON.parse('{"actions":{"select_all":"Select all","clear_selected":"Clear selected","delete_all":"Delete all"},"messages":{"paginate":"Total: {total}","deleted":"Deleted","login_footer":"FASTAPI ADMIN - FastAPI Admin Dashboard","deleted_all":"All deleted","confirm_delete":"Are you sure you want to delete?","image_size":"Size limit: {width}x{height}","confirm_bulk_action":"Are you sure you want to do bulk action?","no_options_text":"No Options Here!","bulk_success":"Bulk action success!"},"errors":{}}')},f203:function(e,t,a){"use strict";var s=a("9741"),i=a.n(s);i.a}});